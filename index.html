<!DOCTYPE html>
<html lang="es">

<head>
	<title>Tienda El Pobre</title>
	<link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/512/590/590509.png" type="image/x-icon">
	<meta charset="utf-8" />
	<meta name="description" content="Variedad de prendas">

	<LINK REL=StyleSheet HREF="estilo.css" TYPE="text/css" MEDIA=screen>
	<script src="codigo.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.1.min.js"
		integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
</head>

<body>
	<script language="javascript" type="text/javascript">
		function submitDetailsForm() {
			var formData = {
				title: $("#titulo").val(),
				price: $("#precio").val(),
				category: $("#categoria").val(),
				description: $("#descripcion").val(),
				image: $("#imagen").val(),
			};
			formData = $('#add-producto').serialize()
			$.ajax({
				url: "https://retoolapi.dev/PZ67lp/productos",
				method: 'post',
				dataType:'json',
				data: formData,
				complete: function () {
					alert('Agregado con exito')
				},
				success: function () {
					window.location.href="http://localhost:8080/apiwebsiteAC17063ver2/"
				},
				error: function () {
					alert('error')
				}
			})

		}
	</script>
	<h1>Tienda "El Pobre"</h1>
	<p id="datos"><span>AC17063</span> - Esteban Vladimir Acosta Casco - Grupo de Trabajo #3</p>
	<p><button id="primero" onclick="obtenerProductos();this.style.display='none';">Obtener Productos</button></p>
	<div id="listado" style="display:none;">
		<div class="agregar">
			<h2>Agregar Producto</h2>
			<form id="add-producto">
				<input class="mandar1" type="text" id="titulo" name="title" placeholder="Titulo" required>
				<input class="mandar1" type="text" id="precio" name="price" placeholder="Precio" required>
				<input class="mandar1" type="text" id="categoria" name="category" placeholder="Categoría" required>
				<input class="mandar" type="text" id="descripcion" name="description" placeholder="Descripción"
					required><br>
				<!--<select class="mandar" name="transporte" size="1">
					 <option>Caballero</option>
					 <option>Dama</option>
					 <option>Joyería</option>
					 <option>Electrónicos</option>
				 </select>--><br>
				<input class="mandar1" type="text" id="imagen" name="image" required placeholder="link imagen">
				<button id="segundo" type="button" onClick='submitDetailsForm()'>Agregar Producto</button>
			</form>
		</div>
		<form name="filtroprods" id="filtroprods">
			<span id="cate">Seleccione Categorias</span>
			<br>
			<input type="checkbox" id="c1" value="c1" checked>Electronicos
			<input type="checkbox" id="c2" value="c2" checked>Joyería
			<input type="checkbox" id="c3" value="c3" checked>Ropa Caballero
			<input type="checkbox" id="c4" value="c4" checked>Ropa Dama
			<ol>
				<li>
					<p id="indicaciones"> Click en la imagen para Acercamiento </p>
				</li>
				<li>
					<p id="indicaciones"> Click en precio para ordenar Ascendete o Descendente </p>
				</li>
			</ol>
			<br><br>
			<table id="tabla" border="1">
				<thead>
					<tr>
						<th>id</th>
						<th>foto</th>
						<th id="price">price</th>
						<th>title</th>
						<th>description</th>
						<th>category</th>
						<th>Delete</th>
					</tr>
				</thead>
				<tbody id="tbody"></tbody>
			</table>
		</form>

	</div>
</body>

</html>